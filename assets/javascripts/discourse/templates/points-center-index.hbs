<div class="my-points">
  <div class="points-center-header">
    {{#unless siteSettings.discourse_rewards_show_points_on_site_header}}
      <div class="points-count">
        <p class="prefix">{{i18n "discourse_rewards.my_points_center.my_points"}}<span class="count">{{currentUser.available_points}}</span></p>
      </div>
    {{/unless}}
    <div class="category-selector">
      {{points-category-filter value=filter onChange=(action (mut filter))}}
    </div>
  </div>
  {{#if model.transactions.length}}
    <div class="transactions-list">
      <table class="transactions">
        <tr class="transaction-header">
          <th class="transaction-date header">{{i18n "discourse_rewards.my_points_center.th.time"}}</th>
          <th class="transaction-details header">{{i18n "discourse_rewards.my_points_center.th.details"}}</th>
          <th class="transaction-points header">{{i18n "discourse_rewards.my_points_center.th.points"}}</th>
        </tr>
      </table>

      {{#if canDisplayCreationCategoryList}}
        <div class="category create-category">
          <fieldset class="heading">
            <legend class="header-text">{{i18n "discourse_rewards.transaction.categories.creation"}}</legend>
            <table class="transactions">
              {{#each creationCategoryList as |transaction index|}}
                {{transaction-item transaction=transaction}}
              {{/each}}
            </table>
          </fieldset>
        </div>
      {{/if}}

      {{#if canDisplayLikeCategoryList}}
        <div class="category like-category">
          <fieldset class="heading">
            <legend class="header-text">{{i18n "discourse_rewards.transaction.categories.like"}}</legend>
            <table class="transactions">
              {{#each likeCategoryList as |transaction index|}}
                {{transaction-item transaction=transaction}}
              {{/each}}
            </table>
          </fieldset>
        </div>
      {{/if}}

      {{#if canDisplayBadgeCategoryList}}
        <div class="category badge-category">
          <fieldset class="heading">
            <legend class="header-text">{{i18n "discourse_rewards.transaction.categories.badge"}}</legend>
            <table class="transactions">
              {{#each badgeCategoryList as |transaction index|}}
                {{transaction-item transaction=transaction}}
              {{/each}}
            </table>
          </fieldset>
        </div>
      {{/if}}

      {{#if canDisplayRedeemCategoryList}}
        <div class="category redeem-category">
          <fieldset class="heading">
            <legend class="header-text">{{i18n "discourse_rewards.transaction.categories.redeem"}}</legend>
            <table class="transactions">
              {{#each redeemCategoryList as |transaction index|}}
                {{transaction-item transaction=transaction}}
              {{/each}}
            </table>
          </fieldset>
        </div>
      {{/if}}

      {{#if canDisplayUncategorizedList}}
        <div class="category uncategorized">
          <fieldset class="heading">
            <legend class="header-text">{{i18n "discourse_rewards.transaction.categories.uncategorized"}}</legend>
            <table class="transactions">
              {{#each uncategorizedList as |transaction index|}}
                {{transaction-item transaction=transaction}}
              {{/each}}
            </table>
          </fieldset>
        </div>
      {{/if}}
    </div>
  {{/if}}
  {{conditional-loading-spinner condition=loading}}
</div>
